{"is_source_file": true, "format": "Python", "description": "This file defines API routes for product management in a FastAPI application, including listing, creating, retrieving, updating, deleting products, and calculating total inventory balance.", "external_files": ["../schemas/product", "../repositories/product_repository"], "external_methods": ["product_repository.list_products", "product_repository.exists", "product_repository.create_product", "product_repository.get_product", "product_repository.update_product", "product_repository.delete_product"], "published": ["list_products", "get_total_balance", "create_product", "get_product", "update_product", "delete_product"], "classes": [{"name": "BalanceResponse", "description": "Response model for total balance across all products."}], "methods": [{"name": "list_products", "description": "Return all products."}, {"name": "get_total_balance", "description": "Calculate the total monetary value of all products currently in stock."}, {"name": "create_product", "description": "Create a new product with validation for unique id and non-empty name."}, {"name": "get_product", "description": "Retrieve a product by its id, or raise 404 if not found."}, {"name": "update_product", "description": "Update an existing product by id with new data, with validation."}, {"name": "delete_product", "description": "Delete a product by id, or raise 404 if not found."}], "calls": ["product_repository.list_products", "product_repository.exists", "product_repository.create_product", "product_repository.get_product", "product_repository.update_product", "product_repository.delete_product"], "search-terms": ["products API", "inventory balance", "product CRUD", "FastAPI product routes", "product repository"], "state": 2, "file_id": 8, "knowledge_revision": 29, "git_revision": "12c5017b16eaff2595f4564d6c48c24dae953001", "revision_history": [{"17": ""}, {"21": "f11cd09439f395c9f0d33847c33c412db2a0f133"}, {"29": "12c5017b16eaff2595f4564d6c48c24dae953001"}], "ctags": [], "filename": "product_backend_api/src/api/routers/products.py", "format-version": 4, "code-base-name": "https://github.com/kavia-common/product-management-api-34229-34240.git:kavia-main"}